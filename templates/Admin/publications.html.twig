{% extends "Admin/adminLayout.html.twig" %}

{% block content %}
    <br>
    <br>
    <div class="col-md-12">
        <h2>Publications
            <a href="{{ url('adminAddPublication') }}">
                <button type="button" class="btn btn-success btn-sm">
                    <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> AJOUTER
                </button>
            </a>
        </h2>
    </div>
    {% if publications %}
        <table class="table table-striped" style="max-width: 800px;">
            <thead>
            <tr>
                <th>Date</th>
                <th>Titre</th>
                <th>Edit</th>
                <th>Suppr.</th>
            </tr>
            </thead>
            <tbody>
                {% for publication in publications %}
                    <tr>
                        <td>{{ publication.publishedAt|date("d/m/Y") }}</td>
                        <td>
                            <a href="{{ url('adminEditPublication', {'id': publication.id}) }}">{{ publication.title|e }}</a>
                        </td>
                        <td>
                            <a href="{{ url('adminEditPublication', {'id': publication.id}) }}">
                                <button type="button" class="btn btn-warning btn-xs">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </button>
                            </a>
                        </td>
                        <td>
                            <a href="{{ url('adminDeletePublication', {'id': publication.id}) }}">
                                <button type="button" class="btn btn-danger btn-xs">
                                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                </button>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

{% endblock %}